<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>S T A T ! C</title>

<style>
    body {
        margin: 0;
        padding: 0;
        background: url('statedelic.jpg') center center / cover no-repeat fixed;
        height: 100vh;
        width: 100vw;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        font-family: "Courier New", monospace;
    }

    body::after {
        content: "";
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.55);
        z-index: -1;
    }

    .static-text {
        font-size: clamp(38px, 12vw, 150px);
        letter-spacing: clamp(6px, 2vw, 22px);
        color: #39ff14;
        text-decoration: none;
        filter: drop-shadow(0 0 14px #39ff14);
        cursor: pointer;
        display: flex;
        gap: clamp(6px, 1vw, 12px);
        user-select: none;
    }

    .char {
        display: inline-block;
        transition: 0.15s ease-out;
    }

    /* Subtle idle breathing motion */
    .static-text {
        animation: breathe 4s infinite ease-in-out;
    }
    @keyframes breathe {
        0%, 100% { filter: drop-shadow(0 0 14px #39ff14); }
        50% { filter: drop-shadow(0 0 28px #39ff14); }
    }
</style>
</head>

<body>

<a href="static.html" class="static-text" id="glitchWord">S T A T ! C</a>

<script>
/*
    NEW FLICKER ENGINE
    - Always fires
    - Works on iPhone / Android / Desktop
    - Avoids cached text issues
*/

const glyphs = {
  "S": ["S","5","§","Ś","$","Ƨ"],
  "T": ["T","†","7","┼","Ŧ","Ƭ"],
  "A": ["A","Λ","4","Δ","Å","Ʌ"],
  "!": ["!","⁎","¡","⚠","⟡","︕"],
  "C": ["C","⊂","↻","₡","ᑕ","☾"]
};

const container = document.getElementById("glitchWord");
let letters = [...container.textContent.replace(/\s/g,"")];

container.innerHTML = ""; 
letters.forEach(l => {
  let span = document.createElement("span");
  span.className = "char";
  span.dataset.base = l;
  span.textContent = l;
  container.appendChild(span);
});

function flicker() {
  document.querySelectorAll(".char").forEach((el, i) => {
    const base = el.dataset.base;
    const options = glyphs[base];
    if(!options) return;

    let newChar = options[Math.floor(Math.random()*options.length)];
    el.textContent = newChar;

    setTimeout(() => {
      el.textContent = base;
    }, 120 + Math.random()*400 + i*60);
  });
}

// slow ritual flicker pulse
setInterval(flicker, 1800);

</script>

</body>
</html>
